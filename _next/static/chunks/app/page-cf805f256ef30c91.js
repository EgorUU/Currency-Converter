(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2569:()=>{},2900:(e,r,a)=>{"use strict";a.d(r,{A:()=>s,V:()=>n});let t=(0,a(1990).Z0)({name:"currencies",initialState:{ValCurs:null},reducers:{AddCurrencies:(e,r)=>{e.ValCurs=r.payload,console.log(e.ValCurs)}}}),s=t.reducer,{AddCurrencies:n}=t.actions},3646:(e,r,a)=>{"use strict";a.d(r,{Ah:()=>l,Ay:()=>s,I9:()=>n});let t=(0,a(1990).Z0)({name:"currentCurrenciesValues",initialState:{currentCurrencyValue1:"",currentCurrencyValue2:""},reducers:{setFirstCurrentCurrencyValue:(e,r)=>{e.currentCurrencyValue1=r.payload},setSecondCurrentCurrencyValue:(e,r)=>{e.currentCurrencyValue2=r.payload}}}),s=t.reducer,{setFirstCurrentCurrencyValue:n,setSecondCurrentCurrencyValue:l}=t.actions},8528:(e,r,a)=>{Promise.resolve().then(a.t.bind(a,6949,23)),Promise.resolve().then(a.bind(a,8739))},8592:(e,r,a)=>{"use strict";a.d(r,{t:()=>t});let t="https://currency-converter-server-lxzt.onrender.com"},8739:(e,r,a)=>{"use strict";a.d(r,{default:()=>x});var t=a(5155);a(2569);var s=a(2610),n=a(5446),l=a(8905),c=a(1752),u=a(2164),i=a(8592),d=a(4540),o=a(9811),C=a(2115),h=a(3464),y=a(2900),p=a(1769),V=a(3646);let x=()=>{let e=(0,d.wA)(),r=(0,d.d4)(e=>e.currentCurrency.currentCurrency1),a=(0,d.d4)(e=>e.currentCurrency.currentCurrency2),x=(0,d.d4)(e=>{var r;return null==(r=e.currenciesReducer)?void 0:r.ValCurs}),{data:m,isLoading:v,isSuccess:g,isError:b,error:j}=(0,p.I)({queryKey:["currencies"],queryFn:async()=>(await h.A.get(i.t)).data});(0,C.useEffect)(()=>{g&&(console.log("Данные успешно добавлены",m),(async()=>{await e((0,y.V)(m))})()),b&&console.error("Ошибка",j)},[m]);let[N,A]=(0,C.useState)(null);(0,C.useEffect)(()=>{if(x&&x.ValCurs&&x.ValCurs.Valute)try{let e=x.ValCurs.Valute.map(e=>e.CharCode);A([...e,"RUB"])}catch(e){console.error("Ошибка при обработке валют:",e.message)}},[x]);let w=(0,d.d4)(e=>e.currentCurrenciesValues.currentCurrencyValue1),f=(0,d.d4)(e=>e.currentCurrenciesValues.currentCurrencyValue2);return(0,t.jsxs)("div",{className:"currency-table",children:[(0,t.jsxs)("div",{className:"currency-table-item-1",children:[(0,t.jsx)("input",{type:"number",value:w,onChange:async t=>{await e((0,V.I9)(t.target.value));let s="RUB"==r?1:parseFloat(x.ValCurs.Valute.find(e=>e.CharCode[0]===r).Value[0].replace(",",".")),n="RUB"==a?1:parseFloat(x.ValCurs.Valute.find(e=>e.CharCode[0]===a).Value[0].replace(",","."));e((0,V.Ah)(""+s*t.target.value/n))}}),(0,t.jsxs)(n.A,{className:"btn-success",children:[(0,t.jsx)(l.A,{disabled:!N,variant:"success",className:N?"":"button-loading",id:"dropdown-basic",children:v?v?(0,t.jsx)("div",{className:"spinner-border",style:{width:"20px",height:"20px"},role:"status",children:(0,t.jsx)("span",{className:"visually-hidden",children:"Загрузка..."})}):"Выбрать Валюту":r}),!v&&(0,t.jsx)(c.A,{style:{width:"100%",height:"200px",overflowY:"auto"},children:N?(0,t.jsx)(t.Fragment,{children:N.map((r,a)=>(0,t.jsx)(u.A,{onClick:r=>{let a=r.currentTarget.textContent;a&&e((0,o.Nl)(a))},children:r},a))}):""})]})]}),(0,t.jsx)("div",{className:"currency-table-reverse",onClick:async()=>{e((0,o.Nl)(a)),e((0,o.Hg)(r)),e((0,V.I9)(f)),e((0,V.Ah)(w))},children:(0,t.jsx)(s.K4g,{})}),(0,t.jsxs)("div",{className:"currency-table-item-2",children:[(0,t.jsx)("input",{type:"number",value:f,onChange:async t=>{await e((0,V.Ah)(t.target.value));let s=await r=="RUB"?1:parseFloat(x.ValCurs.Valute.find(e=>e.CharCode[0]===r).Value[0].replace(",",".")),n=await a=="RUB"?1:parseFloat(x.ValCurs.Valute.find(e=>e.CharCode[0]===a).Value[0].replace(",","."));e((0,V.I9)(""+n*Number(t.target.value)/s)),console.log(""+n*Number(t.target.value)/s)}}),(0,t.jsxs)(n.A,{children:[(0,t.jsx)(l.A,{disabled:!N,variant:"success",className:N?"":"button-loading",id:"dropdown-basic",children:v?v?(0,t.jsx)("div",{className:"spinner-border",style:{width:"20px",height:"20px"},role:"status",children:(0,t.jsx)("span",{className:"visually-hidden",children:"Загрузка..."})}):"Выбрать Валюту":a}),!v&&(0,t.jsx)(c.A,{style:{width:"100%",height:"200px",overflowY:"auto"},children:N?(0,t.jsx)(t.Fragment,{children:N.map((r,a)=>(0,t.jsx)(u.A,{onClick:r=>{let a=r.currentTarget.textContent;a&&e((0,o.Hg)(a))},children:r},a))}):""})]})]})]})}},9811:(e,r,a)=>{"use strict";a.d(r,{Ay:()=>s,Hg:()=>l,Nl:()=>n});let t=(0,a(1990).Z0)({name:"currentCurrencies",initialState:{currentCurrency1:"USD",currentCurrency2:"RUB"},reducers:{setFirstCurrentCurrency:(e,r)=>{e.currentCurrency1=r.payload},setSecondCurrentCurrency:(e,r)=>{e.currentCurrency2=r.payload}}}),s=t.reducer,{setFirstCurrentCurrency:n,setSecondCurrentCurrency:l}=t.actions}},e=>{var r=r=>e(e.s=r);e.O(0,[489,202,210,39,696,635,441,684,358],()=>r(8528)),_N_E=e.O()}]);